    <sislab-menu></sislab-menu>
    <sislab-banner></sislab-banner>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12 col-lg-8 col-lg-offset-2 main item-themed-z2">
          <div class="view-container">

<div class="row">
  <div class="col-xs-12">
    <h2 class="page-header">Hoja de campo</h2>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <div class="alert alert-danger item-z1" role="alert"
      data-ng-show="sheet.sheet.id_status == 3">
      <i class="glyphicon glyphicon-warning-sign"></i>
      Motivo rechazo:
      <strong>
        {{sheet.sheet.motivo_rechaza}}
        <span
          data-ng-show="sheet.sheet.fecha_rechaza.length > 0">
          ({{sheet.sheet.fecha_rechaza || date}})
        </span>
      </strong>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <div class="alert alert-warning alert-dismissible item-z1" role="alert"
      data-ng-show="sheet.message.length > 0">
      <button type="button" class="close" aria-label="Cerrar"
        data-ng-click="sheet.message = ''">
        <span aria-hidden="true">&times;</span>
      </button>
      <i class="glyphicon glyphicon-warning-sign"></i>
      <strong>
        {{sheet.message}}
      </strong>
    </div>
  </div>
</div>
<form class="form" role="form"
  name="sheetForm"
  novalidate
  >
  <div class="row">
    <div class="col-xs-12" data-bs-collapse>
      <h4 data-bs-collapse-toggle>
        <a class="btn btn-default">
          <i class="glyphicon glyphicon-chevron-down"
            aria-hidden="true"></i>
        </a>
        Datos de Referencia
      </h4>
      <div class="row well wel-sm item-z1"
        data-bs-collapse-target
        >
        <div class="col-xs-12 col-sm-6">
          <h6>Plan</h6>
          <ul class="list-inline">
            <li>
              Folio:
              <strong>{{::sheet.sheet.plan.folio}}</strong>
            </li>
            <li data-ng-show="sheet.sheet.plan.fecha_plan.length > 0">
              Fecha:
              <strong>{{sheet.sheet.plan.fecha_plan || date}}</strong>
            </li>
          </ul>
        </div>
        <div class="col-xs-12 col-sm-6">
          <div class="well well-sm">
            <h6>Cliente</h6>
            <ul class="list-inline">
              <li>
                Cliente:
                <strong>{{::sheet.sheet.plan.cliente.cliente}}</strong>
                {{::sheet.sheet.plan.cliente.area}}
              </li>
              <li>
                Contacto:
                <strong>{{::sheet.sheet.plan.cliente.contacto}}</strong>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>



  <!-- DATOS REFERENCIA -->
  <div class="row">
    <div class="col-xs-12">
      <h4>Referencia del muestreo</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6">
      <label for="samplingNormSelect">
        Norma referencia muestreo
      </label>
      <select class="form-control"
        id="samplingNormSelect"
        name="samplingNormSelect"
        required
        data-ng-model="sheet.sheet.id_metodo_muestreo"
        >
        <option data-ng-repeat="samplingNorm in sheet.samplingNorms"
          value="{{samplingNorm.id_metodo_muestreo}}">
          {{samplingNorm.metodo_muestreo}}
        </option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Inicio / Término de muestreo</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-6 col-sm-4">
      <label for="startDate">
        <i class="glyphicon glyphicon-calendar"></i>
        Fecha inicio
      </label>
      <input type="text"
        class="form-control"
        id="startDate"
        name="startDate"
        placeholder="aaaa-mm-dd"
        required
        data-ng-model="sheet.sheet.fecha_inicio"
        data-date-format="yyyy-MM-dd"
        data-date-type="date"
        data-autoclose="1"
        date-use-native="true"
        data-bs-datepicker
        >
    </div>
    <div class="col-xs-6 col-sm-2">
      <label for="startTime">
        <i class="glyphicon glyphicon-time"></i>
        Hora inicio
      </label>
      <input type="text"
        class="form-control"
        id="startTime"
        name="startTime"
        placeholder="HH:mm"
        required
        data-ng-model="sheet.sheet.fecha_inicio"
        data-time-format="HH:mm"
        data-date-type="date"
        data-length="1"
        data-hour-step="1"
        data-minute-step="1"
        data-arrow-behavior="picker"
        data-auto-close="1"
        data-bs-timepicker
        >
    </div>
    <div class="col-xs-6 col-sm-4">
      <label for="endDate">
        <i class="glyphicon glyphicon-calendar"></i>
        Fecha fin
      </label>
      <input type="text"
        class="form-control"
        id="endDate"
        name="endDate"
        placeholder="aaaa-mm-dd"
        required
        data-ng-model="sheet.sheet.fecha_fin"
        data-date-format="yyyy-MM-dd"
        data-date-type="date"
        data-autoclose="1"
        date-use-native="true"
        data-bs-datepicker
        >
    </div>
    <div class="col-xs-6 col-sm-2">
      <label for="endTime">
        <i class="glyphicon glyphicon-time"></i>
        Hora fin
      </label>
      <input type="text"
        class="form-control"
        id="endTime"
        name="endTime"
        placeholder="HH:mm"
        required
        data-ng-model="sheet.sheet.fecha_fin"
        data-time-format="HH:mm"
        data-date-type="date"
        data-length="1"
        data-hour-step="1"
        data-minute-step="1"
        data-arrow-behavior="picker"
        data-auto-close="1"
        data-bs-timepicker
        >
    </div>
  </div>
  <!-- PUNTOS Y RESULTADOS -->
  <div class="row">
    <div class="col-xs-12">
      <h4>Resultados por punto</h4>
    </div>
  </div>
  <div class="row"
    data-ng-repeat="result in sheet.results">
    <div class="col-xs-12">
      <div class="row">
        <div class="col-xs-12">
          <h5>Punto: {{result.punto}}</h5>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="well well-sm">
            Localidad:
            <strong>{{result.localidad}}</strong>
            Municipio:
            <strong>{{result.municipio}}</strong>
            <br>
            Latitud:
            <strong>{{result.lat}}</strong>
            Longitud:
            <strong>{{result.lng}}</strong>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="sampleTime{{result.id_punto}}">
            <i class="glyphicon glyphicon-time"></i>
            Hora muestreo
          </label>
          <input type="text"
            class="form-control"
            id="sampleTime{{result.id_punto}}"
            name="sampleTime{{result.id_punto}}"
            placeholder="HH:mm"
            required
            data-ng-model="result.hora"
            data-time-format="HH:mm"
            data-date-type="date"
            data-length="1"
            data-hour-step="1"
            data-minute-step="1"
            data-arrow-behavior="picker"
            data-auto-close="1"
            data-bs-timepicker
            >
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="color{{result.id_punto}}">
            Color
          </label>
          <input type="text"
            class="form-control"
            placeholder="Color"
            id="color{{result.id_punto}}"
            name="color{{result.id_punto}}"
            data-ng-model="result.color"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="olor{{result.id_punto}}">
            Olor
          </label>
          <input type="text"
            class="form-control"
            placeholder="Olor"
            id="olor{{result.id_punto}}"
            name="olor{{result.id_punto}}"
            data-ng-model="result.olor"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="gasto{{result.id_punto}}">
            Gasto
          </label>
          <input type="number"
            class="form-control"
            placeholder="Gasto"
            id="gasto{{result.id_punto}}"
            name="gasto{{result.id_punto}}"
            data-ng-model="result.gasto"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="temp_amb{{result.id_punto}}">
            Temp. Ambiente
          </label>
          <input type="number"
            class="form-control"
            placeholder="Temp. Ambiente"
            id="temp_amb{{result.id_punto}}"
            name="temp_amb{{result.id_punto}}"
            data-ng-model="result.temp_amb"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="temp{{result.id_punto}}">
            Temperatura
          </label>
          <input type="number"
            class="form-control"
            placeholder="Temperatura"
            id="temp{{result.id_punto}}"
            name="temp{{result.id_punto}}"
            data-ng-model="result.temp"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="oxigeno{{result.id_punto}}">
            Oxígeno
          </label>
          <input type="number"
            class="form-control"
            placeholder="Oxígeno"
            id="oxigeno{{result.id_punto}}"
            name="oxigeno{{result.id_punto}}"
            data-ng-model="result.oxigeno"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="ph{{result.id_punto}}">
            pH
          </label>
          <input type="number"
            class="form-control"
            placeholder="pH"
            id="ph{{result.id_punto}}"
            name="ph{{result.id_punto}}"
            data-ng-model="result.ph"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="cond{{result.id_punto}}">
            Conductividad
          </label>
          <input type="number"
            class="form-control"
            placeholder="Conductividad"
            id="cond{{result.id_punto}}"
            name="cond{{result.id_punto}}"
            data-ng-model="result.cond"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="materia{{result.id_punto}}">
            Materia flotante
          </label>
          <input type="text"
            class="form-control"
            placeholder="Materia flotante"
            id="materia{{result.id_punto}}"
            name="materia{{result.id_punto}}"
            data-ng-model="result.materia"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="cloro{{result.id_punto}}">
            Cloro residual
          </label>
          <input type="number"
            class="form-control"
            placeholder="Cloro residual"
            id="cloro{{result.id_punto}}"
            name="cloro{{result.id_punto}}"
            data-ng-model="result.cloro"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="secchi{{result.id_punto}}">
            Disco Secchi
          </label>
          <input type="number"
            class="form-control"
            placeholder="Disco Secchi"
            id="secchi{{result.id_punto}}"
            name="secchi{{result.id_punto}}"
            data-ng-model="result.secchi"
            >
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <label for="profundidad{{result.id_punto}}">
            Profundidad
          </label>
          <input type="number"
            class="form-control"
            placeholder="Profundidad"
            id="profundidad{{result.id_punto}}"
            name="profundidad{{result.id_punto}}"
            data-ng-model="result.profundidad"
            >
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <h5>Comentarios</h5>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-6">
          <textarea rows="3" class="form-control well well-sm"
            id="sheetComments{{result.id_punto}}"
            name="sheetComments{{result.id_punto}}"
            data-ng-model="result.comentarios"
            >
          </textarea>
        </div>
      </div>
    </div>
  </div>

  <!--
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-lg-4"
      data-ng-repeat="fieldParameter in sheet.fieldParameters">
      <label for="fieldParameter{{fieldParameter.id_parametro}}">
        {{fieldParameter.parametro}}
      </label>
      <input type="text"
        class="form-control"
        placeholder="Ingrese un valor"
        id="fieldParameter{{fieldParameter.id_parametro}}"
        name="fieldParameter{{fieldParameter.id_parametro}}"
        data-ng-model="fieldParameter.valor"
        >
    </div>
  </div>
  -->
  <div class="row">
    <div class="col-xs-12">
      <h4>Condiciones ambientales</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6">
      <label for="cloudCoverSelect">
        Cobertura de nubes
      </label>
      <select class="form-control"
        id="cloudCoverSelect"
        name="cloudCoverSelect"
        required
        data-ng-model="sheet.sheet.id_nubes"
        >
        <option data-ng-repeat="cloudCover in sheet.cloudCovers"
          value="{{cloudCover.id_nubes}}">
          {{cloudCover.nubes}}
        </option>
      </select>
    </div>
    <div class="col-xs-12 col-sm-6">
      <label for="windDirectionSelect">
        Dirección de la corriente
      </label>
      <select class="form-control"
        id="windDirectionSelect"
        name="windDirectionSelect"
        required
        data-ng-model="sheet.sheet.id_direccion_corriente"
        >
        <option data-ng-repeat="windDirection in sheet.windDirections"
          value="{{windDirection.id_direccion_corriente}}">
          {{windDirection.direccion_corriente}}
        </option>
      </select>
    </div>
    <div class="col-xs-12 col-sm-6">
      <label for="waveIntensitySelect">
        Intensidad del oleaje
      </label>
      <select class="form-control"
        id="waveIntensitySelect"
        name="waveIntensitySelect"
        required
        data-ng-model="sheet.sheet.id_oleaje"
        >
        <option data-ng-repeat="waveIntensity in sheet.waveIntensities"
          value="{{waveIntensity.id_oleaje}}">
          {{waveIntensity.oleaje}}
        </option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Preservación</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6"
      data-ng-repeat="preservation in sheet.preservations">
      <label>
        <input type="checkbox"
          value="{{preservation.selected}}">
          {{preservation.preservacion}}
      </label>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Comentarios</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <textarea rows="3" class="form-control well well-sm"
        id="sheetCommentsText"
        name="sheetCommentsText"
        data-ng-model="sheet.sheet.comentarios"
        >
      </textarea>
    </div>
  </div>
  <br>
  <div class="row"
    data-ng-show="sheet.user.level < 3">
    <div class="col-xs-12">
      <h4>Validación</h4>
    </div>
    <div class="col-xs-12 col-sm-5 well wel-sm ">
      <button class="btn btn-success"
        value="Validar" title="Validar"
        data-ng-click="sheet.approveItem()"
        >
        <i class="glyphicon glyphicon-ok" aria-hidden="true"></i>
        Validar
      </button>
      <button class="btn btn-danger"
        value="Rechazar" title="Rechazar"
        data-ng-click="sheet.rejectItem()"
        >
        <i class="glyphicon glyphicon-remove" aria-hidden="true"></i>
        Rechazar
      </button>
    </div>
    <div class="col-xs-12 col-sm-7 well wel-sm ">
      <label class="sr-only" for="rejectText">
        Motivo rechazo
      </label>
      <input type="text" class="form-control"
        id="rejectText"
        name="rejectText"
        placeholder="Especifique motivo rechazo"
        data-ng-disabled="sheet.sheet.id_status != 3"
        data-ng-model="sheet.sheet.motivo_rechaza"
        >
    </div>
  </div>
  <br>
  <button type="submit" class="btn btn-primary"
    value="Guardar" title="Guardar"
    data-ng-click="sheet.validateForm()"
    >
    Guardar
  </button>
</form>

          </div>
          <sislab-footer></sislab-footer>
        </div><!-- view-container -->
      </div><!-- row -->
    </div><!-- container -->
    <sislab-banner-bottom></sislab-banner-bottom>
