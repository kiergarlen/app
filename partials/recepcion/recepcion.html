    <sislab-menu></sislab-menu>
    <sislab-banner></sislab-banner>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12 col-lg-8 col-lg-offset-2 main item-themed-z2">
          <div class="view-container">

<div class="row">
  <div class="col-xs-12">
    <h2 class="page-header">Recepción de muestras</h2>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <div class="alert alert-danger item-z1" role="alert"
      data-ng-show="reception.reception.id_status == 3">
      <i class="glyphicon glyphicon-warning-sign"></i>
      Motivo rechazo:
      <strong>
        {{reception.reception.motivo_rechaza}}
        <span
          data-ng-show="reception.reception.fecha_rechaza.length > 0">
          ({{reception.reception.fecha_rechaza | date: 'yyyy-MM-dd'}})
        </span>
      </strong>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <div class="alert alert-warning alert-dismissible item-z1" role="alert"
      data-ng-show="reception.message.length > 0">
      <button type="button" class="close" aria-label="Cerrar"
        data-ng-click="reception.message = ''">
        <span aria-hidden="true">&times;</span>
      </button>
      <i class="glyphicon glyphicon-warning-sign"></i>
      <strong>
        {{reception.message}}
      </strong>
    </div>
  </div>
</div>
<form class="form" role="form"
  name="receptionForm"
  novalidate
  >
  <div class="row">
    <div class="col-xs-12" data-bs-collapse>
      <h4 data-bs-collapse-toggle>
        <a class="btn btn-default">
          <i class="glyphicon glyphicon-chevron-down"
            aria-hidden="true"></i>
        </a>
        Datos de Referencia
      </h4>
      <div class="row well well-sm item-z1"
        data-bs-collapse-target
        >
        <div class="col-xs-12 col-sm-6">
          <h6>Hoja Campo</h6>
          <ul class="list-inline">
            <li>
              Id hoja:
              <strong>{{::reception.reception.hoja.id_hoja}}</strong>
            </li>
            <li>
              Fecha:
              <strong>{{::reception.reception.hoja.fecha_muestreo | date: 'yyyy-MM-dd'}}</strong>
            </li>
          </ul>
        </div>
        <div class="col-xs-12 col-sm-6">
          <h6>Plan</h6>
          <ul class="list-inline">
            <li>
              Folio:
              <strong>{{::reception.reception.plan.folio}}</strong>
            </li>
            <li data-ng-show="reception.reception.plan.fecha_plan.length > 0">
              Fecha:
              <strong>{{::reception.reception.plan.fecha_plan | date: 'yyyy-MM-dd'}}</strong>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Entrega</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-6 col-sm-4">
      <label for="samplingDate">
        <i class="glyphicon glyphicon-calendar"></i>
        Fecha
      </label>
      <input type="text"
        class="form-control"
        id="samplingDate"
        name="samplingDate"
        placeholder="aaaa-MM-dd"
        required
        data-ng-model="reception.reception.fecha_entrega"
        data-date-format="yyyy-MM-dd"
        data-date-type="date"
        data-autoclose="1"
        date-use-native="true"
        data-bs-datepicker
        >
    </div>
    <div class="col-xs-6 col-sm-3">
      <label for="samplingTime">
        <i class="glyphicon glyphicon-time"></i>
        Hora
      </label>
      <input type="text"
        class="form-control"
        id="samplingTime"
        name="samplingTime"
        placeholder="HH:mm"
        required
        data-ng-model="reception.reception.fecha_entrega"
        data-time-format="HH:mm"
        data-date-type="date"
        data-length="1"
        data-hour-step="1"
        data-minute-step="1"
        data-arrow-behavior="picker"
        data-auto-close="1"
        data-bs-timepicker
        >
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Recepción</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-6 col-sm-4">
      <label for="receptionDate">
        <i class="glyphicon glyphicon-calendar"></i>
        Fecha
      </label>
      <input type="text"
        class="form-control"
        id="receptionDate"
        name="receptionDate"
        placeholder="aaaa-mm-dd"
        required
        data-ng-model="reception.reception.fecha_recibe"
        data-date-format="yyyy-MM-dd"
        data-date-type="date"
        data-autoclose="1"
        date-use-native="true"
        data-bs-datepicker
        >
    </div>
    <div class="col-xs-6 col-sm-3">
      <label for="receptionTime">
        <i class="glyphicon glyphicon-time"></i>
        Hora
      </label>
      <input type="text"
        class="form-control"
        id="receptionTime"
        name="receptionTime"
        placeholder="HH:mm"
        required
        data-ng-model="reception.reception.fecha_recibe"
        data-time-format="HH:mm"
        data-date-type="date"
        data-length="1"
        data-hour-step="1"
        data-minute-step="1"
        data-arrow-behavior="picker"
        data-auto-close="1"
        data-bs-timepicker
        >
    </div>
    <div class="col-xs-12 col-sm-6">
      <label for="receptionistSelect">
        Responsable recepción
      </label>
      <select class="form-control"
        id="receptionistSelect"
        name="receptionistSelect"
        data-ng-model="reception.reception.id_recepcionista"
        >
        <option
          data-ng-repeat="receptionist in reception.receptionists"
          value="{{receptionist.id_usuario}}">
          {{::receptionist.nombres}}
          {{::receptionist.apellido_paterno}}
          {{::receptionist.apellido_materno}}
        </option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Muestras recibidas {reception.selectSamples()}</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6"
      data-ng-repeat="sample in reception.reception.muestras">
      <div class="row">
        <div class="col-xs-12 col-sm-4">
          <label>
           <input type="checkbox"
              value="{{sample.selected}}"
              data-ng-model="sample.selected"
              >
              {{sample.id_muestra}}
          </label>
          <br>
          ({{sample.punto.punto}})
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Verificación</h4>
    </div>
  </div>


  <div class="row">
    <div class="col-xs-12 col-sm-6">
      <!--
      <label for="sampleSelect">
        Muestra a verificar {{reception.reception.id_muestra_validacion}}
      </label>
      <select class="form-control"
        id="sampleSelect"
        name="sampleSelect"
        data-ng-model="reception.reception.id_muestra_validacion"
        >
        <option
          data-ng-repeat="validationSample in reception.reception.muestras"
          value="{{validationSample.id_muestra}}">
          {{validationSample.id_muestra}}
          -
          ({{validationSample.punto.punto}})
        </option>
      </select>
      -->
      <h4>ID MUESTRA VALIDACION: {{reception.reception.id_muestra_validacion}}</h4>
      <select class="form-control"
        data-ng-model="reception.reception.id_muestra_validacion"
        >
        <option
          data-ng-repeat="vs in reception.samples"
          value="{{vs.id_muestra}}">
          {{vs.id_muestra}}
          -
          ({{vs.punto.punto}})
        </option>
      </select>
      <table class="table table-hover table-condensed">
        <tr>
          <th>id_muestra</th>
          <th>id_estudio</th>
          <th>id_cliente</th>
          <th>id_orden</th>
          <th>id_plan</th>
          <th>id_hoja</th>
          <th>id_recepcion</th>
          <th>id_custodia</th>
          <th>id_paquete</th>
          <th>id_ubicacion</th>
          <th>id_punto</th>
          <th>fecha_muestreo</th>
          <th>comentarios</th>
          <th>activo</th>
        </tr>
        <tbody>
          <tr
            data-ng-repeat="vsa in reception.samples"
            >
            <td>{{vsa.id_muestra}}</td>
            <td>{{vsa.id_estudio}}</td>
            <td>{{vsa.id_cliente}}</td>
            <td>{{vsa.id_orden}}</td>
            <td>{{vsa.id_plan}}</td>
            <td>{{vsa.id_hoja}}</td>
            <td>{{vsa.id_recepcion}}</td>
            <td>{{vsa.id_custodia}}</td>
            <td>{{vsa.id_paquete}}</td>
            <td>{{vsa.id_ubicacion}}</td>
            <td>{{vsa.id_punto}}</td>
            <td>{{vsa.fecha_muestreo}}</td>
            <td>{{vsa.comentarios}}</td>
            <td>{{vsa.activo}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <table class="table table-hover table-condensed">
        <tr>
          <th>id_muestra</th>
          <th>id_estudio</th>
          <th>id_cliente</th>
          <th>id_orden</th>
          <th>id_plan</th>
          <th>id_hoja</th>
          <th>id_recepcion</th>
          <th>id_custodia</th>
          <th>id_paquete</th>
          <th>id_ubicacion</th>
          <th>id_punto</th>
          <th>fecha_muestreo</th>
          <th>comentarios</th>
          <th>activo</th>
          <th>selected</th>
        </tr>
        <tbody>
          <tr
            data-ng-repeat="vsb in reception.reception.muestras"
            >
            <td>{{vsb.id_muestra}}</td>
            <td>{{vsb.id_estudio}}</td>
            <td>{{vsb.id_cliente}}</td>
            <td>{{vsb.id_orden}}</td>
            <td>{{vsb.id_plan}}</td>
            <td>{{vsb.id_hoja}}</td>
            <td>{{vsb.id_recepcion}}</td>
            <td>{{vsb.id_custodia}}</td>
            <td>{{vsb.id_paquete}}</td>
            <td>{{vsb.id_ubicacion}}</td>
            <td>{{vsb.id_punto}}</td>
            <td>{{vsb.fecha_muestreo}}</td>
            <td>{{vsb.comentarios}}</td>
            <td>{{vsb.activo}}</td>
            <td>{{vsb.selected}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h5>Conformidad por preservación</h5>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6"
      data-ng-repeat="preservation in reception.preservations">
      <label>
        <input type="checkbox"
          value="{{preservation.preservado}}"
          data-ng-model="preservation.preservado"
          >
          {{::preservation.preservacion}}
      </label>
      <br>
      <small class="text-muted">
        {{::preservation.descripcion}}
      </small>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h5>Conformidad por tipo análisis</h5>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-3">
      <strong>Tipo análisis</strong>
    </div>
    <div class="col-xs-3">
      <strong>Volumen</strong>
    </div>
    <div class="col-xs-3">
      <strong>Vigencia</strong>
    </div>
    <div class="col-xs-3">
      <strong>Contenedor</strong>
    </div>
  </div>
  <div class="row"
    data-ng-repeat="area in reception.areas">
    <div class="col-xs-12 col-sm-3">
      {{::area.area}}
    </div>
    <div class="col-xs-12 col-sm-3">
      <label>
        <input type="checkbox"
          data-ng-model="area.volumen"
          >
          Conforme
      </label>
    </div>
    <div class="col-xs-12 col-sm-3">
      <label>
        <input type="checkbox"
          data-ng-model="area.vigencia"
          >
          Conforme
      </label>
    </div>
    <div class="col-xs-12 col-sm-3">
      <label>
        <input type="checkbox"
          data-ng-model="area.recipiente"
          >
          Conforme
      </label>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Comentarios</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <label for="sampleCommentsText">
        Comentarios
      </label>
      <textarea rows="2" class="form-control well well-sm"
        id="sampleCommentsText"
        name="sampleCommentsText"
        data-ng-model="reception.reception.comentarios"
        >
      </textarea>
    </div>
  </div>
  <br>
  <div class="row"
    data-ng-show="reception.user.level < 3">
    <div class="col-xs-12">
      <h4>Validación</h4>
    </div>
    <div class="col-xs-12 col-sm-5 well wel-sm ">
      <button class="btn btn-success"
        value="Validar" title="Validar"
        data-ng-click="reception.approveItem()"
        >
        <i class="glyphicon glyphicon-ok" aria-hidden="true"></i>
        Validar
      </button>
      <button class="btn btn-danger"
        value="Rechazar" title="Rechazar"
        data-ng-click="reception.rejectItem()"
        >
        <i class="glyphicon glyphicon-remove" aria-hidden="true"></i>
        Rechazar
      </button>
    </div>
    <div class="col-xs-12 col-sm-7 well wel-sm ">
      <label class="sr-only" for="rejectText">
        Motivo rechazo
      </label>
      <input type="text" class="form-control"
        id="rejectText"
        name="rejectText"
        placeholder="Especifique motivo rechazo"
        data-ng-disabled="reception.reception.id_status != 3"
        data-ng-model="reception.reception.motivo_rechaza"
        >
    </div>
  </div>
  <br>
  <button type="submit" class="btn btn-primary"
    value="Guardar" title="Guardar"
    data-ng-click="reception.submitForm()"
    >
    Guardar
  </button>
</form>

          </div>
          <sislab-footer></sislab-footer>
        </div><!-- view-container -->
      </div><!-- row -->
    </div><!-- container -->
    <sislab-banner-bottom></sislab-banner-bottom>
